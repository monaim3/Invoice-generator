"use strict";(self.webpackChunkinvoice_generator=self.webpackChunkinvoice_generator||[]).push([[850],{9008:function(e,t,n){n.d(t,{Z:function(){return m}});var i,o=n(4942),a=n(3144),r=n(5671),l=n(6435),c=n.n(l),d=n(5834);n.p;c().vfs=d.I.vfs;var g=(0,a.Z)((function e(){(0,r.Z)(this,e)}));i=g,g.defaultSettings=localStorage.getItem("defaultSettings")?JSON.parse(localStorage.getItem("defaultSettings")):{defaultTemplate:"temp1"},g.docDefinition=localStorage.getItem("docDefinition")?JSON.parse(localStorage.getItem("docDefinition")):{backgroundColor:"#0069D9",pageOrientation:"portrait",pageSize:"A4",border:10,watermark:{text:"",opacity:.3,bold:!1,italics:!1},qrCodeActive:!1,qrCode:{qr:"",foreground:"#000000",background:"#FFFFFF",eccLevel:"L",appendInvoiceNo:!1}},g.setSettings=function(){localStorage.getItem("defaultSettings")&&(i.defaultSettings=JSON.parse(localStorage.getItem("defaultSettings"))),localStorage.getItem("docDefinition")&&(i.docDefinition=JSON.parse(localStorage.getItem("docDefinition")))},g.downloadInvoice=function(e){i.setSettings();var t=i.getTemplateWithDef(e);c().createPdf(t).download("Invoice No#"+e.invoiceNo)},g.openInvoice=function(e){i.setSettings();var t=i.getTemplateWithDef(e);c().createPdf(t).open()},g.printInvoice=function(e){i.setSettings();var t=i.getTemplateWithDef(e);c().createPdf(t).print()},g.getSubtotal=function(e){return e.reduce((function(e,t){return Number(e)+Number(t.amount)}),0).toFixed(2)},g.getTotal=function(e,t,n){return(i.getSubtotal(e)-Number(t||0)+Number(n||0)).toFixed(2)},g.getTemplateWithDef=function(e){var t=null;switch(i.defaultSettings.defaultTemplate){case"temp1":default:t=i.generateDocDef(e);break;case"temp2":t=i.generateDocDefTemplate2(e);break;case"temp3":t=i.generateDocDefTemplate3(e);break;case"temp4":t=i.generateDocDefTemplate4(e);break;case"temp5":t=i.generateDocDefTemplate5(e);break;case"temp6":t=i.generateDocDefTemplate6(e)}return t},g.generateDocDef=function(e){var t=n(2679);n(3882);var a=t.convertToText(parseInt(i.getSubtotal(e.items))).split(" "),r=i.docDefinition,l=r.backgroundColor,c=r.watermark,d=r.pageSize,g=r.pageOrientation,m=r.qrCodeActive,s=r.qrCode,u=[[{text:"#",style:"tableHeader"},{text:"Item",style:"tableHeader"},{text:"Qty",style:"tableHeader",alignment:"center"},{text:"Unit",style:"tableHeader",alignment:"center"},{text:"",style:"tableHeader",alignment:"center"},{text:"Rate",style:"tableHeader",alignment:"center"},{text:"Amount",style:"tableHeader",alignment:"right"}]];0===e.items.length&&u.push(["","","","","","",""]);for(var f=0;f<e.items.length;f++){var h=e.items[f];console.log(h),u.push([f+1,h.title,{text:h.quantity,alignment:"center"},{text:h.unit,alignment:"center"},{text:null,alignment:"left"},{text:h.rate,alignment:"left"},{text:h.amount,alignment:"right"}])}var b=[{width:"*",margin:[-180,0,0,0],columns:[{width:"*",text:[{text:"Subtotal",alignment:"right",lineHeight:1.2},"\n",{text:"Cash",alignment:"right",lineHeight:1.2},"\n",{canvas:[{type:"line",x1:0,y1:5,x2:250,y2:5,lineWidth:3}]},{text:"Due ("+(e.currency||"Taka")+")",fontSize:12,bold:!0,alignment:"right"},"\n","\n",{text:"In Words:"+a.slice(0,3),alignment:"right",lineHeight:1.2},"\n","\n","\n",(0,o.Z)({text:"Signature",fontSize:12,bold:!0,textDecoration:"underline",decoration:"underline",alignment:"right"},"textDecoration",!0)]},{width:"auto",text:[{text:i.getSubtotal(e.items),alignment:"right",lineHeight:1.2},"\n",{text:(e.discounts,e.discounts),alignment:"right",lineHeight:1.2},"\n",{text:i.getTotal(e.items,e.discounts,e.shipping),fontSize:12,bold:!0,alignment:"right"},"\n","\n",{text:a.slice(3,a.length),alignment:"left",lineHeight:1.2,fontSize:12,margin:[-10,0,0,0]},"\n","\n"]}]}];m&&(null!==s&&void 0!==s&&s.qr||null!==s&&void 0!==s&&s.appendInvoiceNo)&&(b.push("\n\n"),b.push({qr:s.qr+(!0===(null===s||void 0===s?void 0:s.appendInvoiceNo)?e.invoiceNo:""),foreground:s.foreground,background:s.background,alignment:"right",fit:130,eccLevel:s.eccLevel}));var p={pageSize:d,pageOrientation:g,watermark:{text:c.text,color:l,opacity:Number(c.opacity),bold:c.bold,italics:c.italics},info:{title:"Invoice No#"+e.invoiceNo,author:"Invoice Generator",subject:"Invoice No#"+e.invoiceNo,keywords:"Invoice No#"+e.invoiceNo},footer:function(t,n,i){return[{margin:[20,-20,20,20],padding:[50,0,0,20],borderRadius:10,alignment:"start",columns:[{image:e.brandLogo.logo1,width:40,height:40},{image:e.brandLogo.logo2,width:40,height:40},{image:e.brandLogo.logo3,width:40,height:40},{image:e.brandLogo.logo4,width:60,height:40},{image:e.brandLogo.logo5,width:40,height:40},{image:e.brandLogo.logo6,width:40,height:40},{image:e.brandLogo.logo7,width:40,height:40},{image:e.brandLogo.logo8,width:40,height:40},{image:e.brandLogo.logo9,width:40,height:40},{image:e.brandLogo.logo10,width:40,height:40}]},{canvas:[{type:"rect",x:0,y:0,w:i.width,h:5,color:l}]},{table:{widths:["80%","20%"],body:[[{text:e.footNote,alignment:"left",fontSize:7,margin:[40,0,0,0]},{text:"Page "+t.toString()+" of "+n+"   ",alignment:"right",margin:[0,10,40,0]}]]},layout:"noBorders"}]},header:function(e,t,n){return[{}]},content:[{columns:[{width:"auto",columns:[{image:e.brandLogo.milon,width:60,height:40}]},{width:300,margin:[0,0,0,0],text:[{text:"MILON MOTORS",fontSize:40,italics:!0,bold:!0,alignment:"center",lineHeight:1.2},"\n",{text:"Special,For,Toyota,Nissan,Mitsubishi,Honda,Mazda,",alignment:"center",fontSize:12,italics:!0,color:"#3f81c3"},"\n",{text:"Hyundai,Bmw,Mercedes,And,haval Great wall",alignment:"center",fontSize:12,italics:!0,color:"#3f81c3"},"\n",{text:"87 NEW ROAD HOME TOWN AC MARKET BANGLA MOTOR DHAKA 1000",alignment:"center",fontSize:12,italics:!0,color:"black"},"\n",{text:"All Kinds Of Motors,Vehicle Parts,Importer,WholeSaler & Retail Supplier",alignment:"center",fontSize:12,italics:!0,color:"#3f81c3"},"\n",{text:"milonmotors@gmail.com milonmotors@yahoo.com",alignment:"center",fontSize:12,italics:!0},"\n",{text:"01799446060  01977225577",alignment:"center",fontSize:15,margin:[0,10,0,10],color:"black"}]},{width:"auto",columns:[{image:e.brandLogo.visa,width:70,height:30,margin:[0,10,0,0]},{text:[{text:"".concat(e.title," Invoice No: #").concat(e.invoiceNo),fontSize:13,bold:!0,alignment:"right"},"\n",{text:" Date: "+e.invoiceDate,alignment:"right"}]}]}]},{style:"tableExample",table:{headerRows:1,widths:["auto","*"],body:[[{text:"Bill From",style:"tableHeader"},{text:"Bill For",style:"tableHeader"}],[e.invoiceFrom,e.invoiceTo]]},layout:{fillColor:function(e,t,n){return 0===e?"#CCCCCC":null}}},{style:"tableExample",table:{headerRows:1,widths:["auto","*",50,60,30,30,80],body:u},layout:"lightHorizontalLines"},{columns:[{width:"70%",text:[{text:""!==e.terms?"Terms & Conditions\n"+e.terms:"",fontSize:10}]},b]},{}],styles:{header:{fontSize:18,bold:!0,margin:[0,0,0,10]},subheader:{fontSize:16,bold:!0,margin:[0,10,0,5]},tableExample:{margin:[0,5,0,15]},tableHeader:{bold:!0,fontSize:13,color:"black"}},defaultStyle:{columnGap:15}};return p};var m=g},2605:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var i=n(9439),o=n(2791),a=n(7689),r=n(4340),l=(n(5724),n(1921),n(5946)),c=n(9987),d=n(672),g=n(1458),m=n(184),s=function(e){return(0,m.jsxs)("span",{children:[(0,m.jsx)("button",{onClick:function(){e.context.componentParent(e,"edit")},className:"btn btn-sm btn-outline-info me-2",children:"Open"}),(0,m.jsx)("button",{onClick:function(){e.context.componentParent(e,"downloadPDF")},className:"btn btn-sm btn-outline-primary me-2",title:"Download PDF",children:(0,m.jsx)(l.r,{})}),(0,m.jsx)("button",{onClick:function(){e.context.componentParent(e,"openPDF")},className:"btn btn-sm btn-outline-primary me-2",title:"Open PDF",children:(0,m.jsx)(c.r,{})}),(0,m.jsx)("button",{onClick:function(){e.context.componentParent(e,"printPDF")},className:"btn btn-sm btn-outline-primary me-2",title:"Print PDF",children:(0,m.jsx)(d.r,{})}),(0,m.jsx)("button",{onClick:function(){e.context.componentParent(e,"deleteInvoice")},className:"btn btn-sm btn-outline-danger",title:"Delete Invoice",children:(0,m.jsx)(g.r,{})})]})},u=n(9008),f=function(){var e=(0,a.s0)(),t=(0,o.useState)(localStorage.getItem("invoices")?JSON.parse(localStorage.getItem("invoices")):[]),n=(0,i.Z)(t,2),l=n[0],c=n[1];(0,o.useEffect)((function(){localStorage.setItem("invoices",JSON.stringify(l))}),[l]);var d=(0,o.useState)(function(){var e=localStorage.getItem("theme");return"auto"===e&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":e}()),g=(0,i.Z)(d,1)[0],f={context:{componentParent:function(t,n){if("edit"===n)e("/",{replace:!1,state:{uuid:t.data.uuid}});else{var i=l.find((function(e,n){return e.uuid===t.data.uuid}));"downloadPDF"===n?u.Z.downloadInvoice(i):"openPDF"===n?u.Z.openInvoice(i):"printPDF"===n?u.Z.printInvoice(i):"deleteInvoice"===n&&window.confirm("Are you sure you wish to delete this invoice?")&&c((function(e){return e.filter((function(e,n){return e.uuid!==t.data.uuid}))}))}}},defaultColDef:{flex:1,sortable:!0,filter:!0,resizable:!0,floatingFilter:!0},columnDefs:[{headerName:"Invoice No",field:"invoiceNo",maxWidth:140},{headerName:"Invoice Date",field:"invoiceDate",filter:"agDateColumnFilter",type:["dateColumn"],maxWidth:200},{headerName:"Due Date",field:"dueDate",filter:"agDateColumnFilter",type:["dateColumn"],maxWidth:200},{headerName:"Currency",field:"currency",maxWidth:130},{headerName:"Invoice To",field:"invoiceTo"},{headerName:"Action",field:"invoiceNo",cellRenderer:s,colId:"params",maxWidth:270,filter:!1}]},h={dateColumn:{filter:"agDateColumnFilter",filterParams:{comparator:function(e,t){var n=t.split("-"),i=Number(n[0]),o=Number(n[1])-1,a=Number(n[2]),r=new Date(i,o,a);return e.getTime()===r.getTime()?0:r<e?-1:r>e?1:void 0}}}};return(0,m.jsxs)("div",{children:[(0,m.jsx)("div",{className:"row mt-3",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsx)("h5",{children:"Invoices"})})}),(0,m.jsx)("div",{className:"row",children:(0,m.jsx)("div",{className:"col-md-12",children:(0,m.jsx)("div",{style:{height:"600px",width:"100%"},className:"dark"===g?"ag-theme-alpine-dark":"ag-theme-alpine",children:(0,m.jsx)(r.AgGridReact,{rowSelection:"single",context:f.context,columnDefs:f.columnDefs,rowData:l,defaultColDef:f.defaultColDef,frameworkComponents:f.frameworkComponents,columnTypes:h})})})})]})}}}]);
//# sourceMappingURL=850.8066b5ec.chunk.js.map